@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 210 40% 98%;
    --foreground: 222 47% 11%;
    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 221 83% 53%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --accent: 210 40% 96%;
    --accent-foreground: 222 47% 11%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 221 83% 53%;
    --chart-1: 221 83% 53%;
    --chart-2: 142 76% 36%;
    --chart-3: 262 83% 58%;
    --chart-4: 32 95% 44%;
    --chart-5: 340 82% 52%;
    --radius: 0.75rem;
  }

  .dark {
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;
    --card: 217 33% 17%;
    --card-foreground: 210 40% 98%;
    --popover: 217 33% 17%;
    --popover-foreground: 210 40% 98%;
    --primary: 217 91% 60%;
    --primary-foreground: 222 47% 11%;
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 223 47% 11%;
    --muted-foreground: 215 20% 65%;
    --accent: 217 33% 17%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 210 40% 98%;
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 224 76% 48%;
    --chart-1: 217 91% 60%;
    --chart-2: 142 76% 36%;
    --chart-3: 262 83% 58%;
    --chart-4: 32 95% 44%;
    --chart-5: 340 82% 52%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  /* Animaciones suaves */
  .transition-smooth {
    @apply transition-all duration-300 ease-in-out;
  }
  
  .transition-fast {
    @apply transition-all duration-150 ease-in-out;
  }
  
  /* Efectos hover profesionales */
  .hover-lift {
    @apply transition-transform duration-300 hover:scale-105 hover:shadow-lg;
  }
  
  .hover-glow {
    @apply transition-shadow duration-300 hover:shadow-xl hover:shadow-primary/20;
  }
  
  /* Skeleton loader */
  .skeleton {
    @apply animate-pulse bg-muted rounded;
  }
  
  .skeleton-shimmer {
    @apply relative overflow-hidden bg-muted rounded;
  }
  
  .skeleton-shimmer::after {
    @apply absolute inset-0 -translate-x-full animate-shimmer bg-gradient-to-r from-transparent via-white/20 to-transparent;
    content: '';
  }
  
  /* Efectos de entrada */
  .fade-in {
    @apply animate-fade-in;
  }
  
  .fade-in-up {
    @apply animate-fade-in-up;
  }
  
  .scale-in {
    @apply animate-scale-in;
  }
}

/* Evitar auto-zoom en iOS Safari: deshabilitar ajuste automático de tamaño de texto */
html, body {
  -webkit-text-size-adjust: 100%; /* evita que iOS cambie el tamaño del texto automáticamente */
}

/*
  NOTA: aplicar font-size:16px global en inputs puede romper el layout (los campos se vuelven más grandes).
  En su lugar, aplica la corrección solo a las páginas/controles que la necesiten añadiendo la clase
  `no-ios-zoom` al contenedor principal de esa página (por ejemplo: <div class="no-ios-zoom">...form...</div>).
*/
.no-ios-zoom input,
.no-ios-zoom textarea,
.no-ios-zoom select,
.no-ios-zoom button,
/* mayor especificidad para el Input componente (usa data-slot) */
.no-ios-zoom input[data-slot="input"] {
  /* Forzamos 16px para evitar que iOS haga auto-zoom en focus. Se usa !important para sobreescribir utilidades de Tailwind si es necesario. */
  font-size: 16px !important;
  line-height: 1.2 !important;
}

/* Eliminamos la regla global :focus que podía forzar transform/none y afectar animaciones/estilos */


/* Forzar apariencia del AlertDialog para que luzca igual en light/dark */
[data-slot="alert-dialog-overlay"] {
  background-color: rgba(0, 0, 0, 0.5);
}

/* Allow AlertDialog content to be themed by component tokens and dark: classes */
[data-slot="alert-dialog-content"] {
  /* intentionally left blank so AlertDialog component controls colors via tokens/dark classes */
}

/* In dark mode reduce overlay opacity slightly */
.dark [data-slot="alert-dialog-overlay"] {
  background-color: rgba(0, 0, 0, 0.2);
}

/* Estilos exactos para la X (botón de cierre) en modo oscuro — opción 3 (verde tenue) */
.dark [toast-close] {
  color: #DFF7EA !important; /* X color */
  background-color: rgba(223, 247, 234, 0.2) !important; /* círculo tenue */
}
.dark [toast-close]:hover {
  background-color: rgba(223, 247, 234, 0.3) !important;
}

/* Reglas alternativas para el botón de Sonner si no tiene el atributo toast-close */
.dark .toaster .toast button[aria-label="Close"],
.dark .toaster .toast button[data-sonner-close] {
  color: #DFF7EA !important;
  background-color: rgba(223, 247, 234, 0.2) !important;
  border-radius: 9999px !important;
  padding: 0.25rem !important;
}
.dark .toaster .toast button[aria-label="Close"]:hover,
.dark .toaster .toast button[data-sonner-close]:hover {
  background-color: rgba(223, 247, 234, 0.3) !important;
}

/* Forzar color del SVG de la X dentro del botón de Sonner */
.dark .toaster .toast button[aria-label="Close"] svg,
.dark .toaster .toast button[data-sonner-close] svg,
.dark .toaster .toast [data-sonner-close] svg {
  fill: #DFF7EA !important;
  stroke: #DFF7EA !important;
}
